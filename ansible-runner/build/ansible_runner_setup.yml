---

- name: Ansible runner setup
  hosts: localhost
  gather_facts: true
  become: true
  vars:
    install_kubectl: true
    install_helm: true
    k8s_platform: linux
    k8s_arch: "{{ 'arm64' if ansible_facts.architecture == 'aarch64' else 'amd64' }}"
    kubectl_version: "1.33.0"
    # SHA512 checksum of the binary (see https://dl.k8s.io/release/v1.35.0/bin/linux/amd64/kubectl.sha512)
    kubectl_checksum_binary: "{{ 'sha512:2fa56b11bfd532e6add84d13e52432fff185585db68f301b93144528f06f0c9669535ccc485a1859869724842f95cee79e702fcb0bfbcf1773e0edea5c2257a9' if ansible_facts.architecture == 'aarch64' else 'sha512:6e409beaa9bde9c2ad9f431b260a16c70ee9dee33377b33c4d9c39a36f2005955f0bfc2e8cdacf30646a50c236a30e6dabb4b7d9d4acf11ba16cc55f47ec7d67' }}"
    # renovate: datasource=github-releases depName=helm/helm
    helm_version: 'v3.17.3'
  roles:
    - role: ricsanfre.k8s_cli
